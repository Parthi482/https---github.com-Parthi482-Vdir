<div class="containers" *ngIf="!Ishomescreen">
  <div class="banner">
    <img
      [src]="imageList[currentIndex]"
      alt=""
      style="width: 100%; height: 550px;"
    />
  </div>
  

    <div *ngIf="CurrentBannerData && CurrentBannerData.length > 0">
  <div class="rigt-side" *ngFor="let bannerdata of CurrentBannerData; let i = index"   > 
    <div style="margin: 10px;" >
      <h2 style="font-size: 30px; font-weight: bold;">{{bannerdata.event_name}}</h2>
      <p class="event-description-container" [innerHTML]="bannerdata.event_description"></p> 
        <div style="margin-right: 34px;padding: 10px;"><i class="fa fa-calendar" aria-hidden="true"></i>
          {{ bannerdata.Start_date }}
        </div> 
        <div style="margin-right: 90px;">
          <i class="fa fa-users" aria-hidden="true" style="padding-right: 5px;padding-bottom: 5px;"></i
          >{{ bannerdata?.event_participants?.length || 0 }}
          </div>


<!-- todo RSVP BUTTON -->

<!-- <button
class="rsvp-button"
(click)="
  RegisterEvent ? SendEmail(bannerdata) : CancelRSVP(bannerdata)"
[style.background-color]="
  ActiveUser && !RegisterEvent ? 'rgba(31, 215, 232, 0.873)' : 'red'
"
*ngIf="ActiveUser"
>
{{ RegisterEvent ? "RSVP" : "Cancel" }}
</button>
<button
class="rsvp-button"
(click)="
RegisterEvent ? SendEmail(bannerdata) : CancelRSVP(bannerdata)"
[style.background-color]="
ActiveUser && !RegisterEvent ? 'rgba(31, 215, 232, 0.873)' : 'red'
"
*ngIf="ActiveUser"
>
{{ RegisterEvent ? "RSVP" : "Cancel" }}
</button> -->
<!-- todo RSVP BUTTON -->
<div (ngModelChange)="changetheButton(bannerdata._id)">

</div>
 


<button class="rsvp-button"(click)="SendEmail(bannerdata)" style="background-color: rgba(31, 215, 232, 0.873);" *ngIf="ActiveUser == true && RegisterEvent == false" >RSVP</button>
<button class="rsvp-button"(click)="SendEmail(bannerdata)" style="background-color: rgba(31, 215, 232, 0.873);" *ngIf="ActiveUser == true && RegisterEvent == true" >Cancel</button>





      <button class="rsvp-button" *ngIf="!ActiveUser" (click)="authService.GoogleAuth()">
        RSVP
      </button>  
    </div>
</div>
</div>
  <!-- (click)="SendEmail(bannerdata)"  -->
    <form [formGroup]="form" class="centered-div">
      
      <mat-form-field style="width: 250px;padding-top: 18px;">
        <input
          matInput
          type="text"
          [matAutocomplete]="auto"
          [formControl]="searchText"
          placeholder="Event name"
          (keydown.enter)="$event.preventDefault()"
        />
        <mat-icon
          *ngIf="searchText.value !== ''"
          matSuffix
          class="searchIcon"
          (click)="clearSearch()"
          >close</mat-icon
        >
        <mat-autocomplete
          #auto="matAutocomplete"
          (optionSelected)="onOptionSelected($event)"
        >
          <mat-option
            *ngFor="let item of filteredData"
            [value]="item.event_name"
          >
            {{ item.event_name }}
          </mat-option>
        </mat-autocomplete>
        <mat-icon matPrefix>search</mat-icon>
      </mat-form-field>

      <mat-form-field style="width: 250px; padding-left: 10px;padding-top: 18px;">
        <mat-label>Choose a date</mat-label>
        <input
          matInput
          [matDatepicker]="picker"
          (dateInput)="addEvent($event)"
          (dateChange)="addEvent($event)"
        />

        <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
        <mat-datepicker #picker></mat-datepicker>
      </mat-form-field>
      <mat-icon
        style=" cursor: pointer; color: honeydew; height: 25px;padding-left: 25px;padding-bottom: 50px;padding-top: 18px; width: auto;font-size: 30px;"(click)="onEnter()" >search
      </mat-icon>
   
      </form> 
 
</div>
  
 <div style="margin: 50px;" *ngIf="!Ishomescreen">

 </div>
   
 <div>
  <h2 style="padding-left: 13%; margin-top: 5%;font-weight: bold;font-family: Arial, Helvetica, sans-serif;" *ngIf="!Ishomescreen">
    Current Event
  </h2>
  <div class="business-card-container">
    <div
      class="business-card"
      style="cursor: pointer"
      *ngFor="let data of Data?.slice(0, minNumberOfCards || Data.length)"
      (click)="navigate('view', data._id)"
    >
      <div class="left-side">
        <div class="logo-container">
          <img
            src="{{
              'https://seekers.sgp1.digitaloceanspaces.com/' +
                (data?.event_image?.storage_name || '')
            }}"
            alt="{{ data?.event_name }}"
            class="company-logo"
          />
        </div>
      </div>
      <div class="right-side" style="align-self: center; width: 220px">
        <h2 style="font-weight: bold;font-size: 28px;">{{ data?.event_name }}</h2>
        <p>
          <i class="fa fa-users" aria-hidden="true" style="padding-right: 5px;"></i
          >{{ data?.event_participants?.length || 0 }}
        </p>

        <p>
          <i class="fas fa-calendar-alt" aria-hidden="true" style="padding-right: 5px;"></i>
          {{ data?.Start_date }}
        </p>
      </div>
    </div>
  </div>
  <a
    style="
      text-decoration: none;
      cursor: pointer;
      justify-content: center;
      align-items: center;
      display: flex;
      margin: 0 auto;
    "
    class="view-more"
    *ngIf="Ishomescreen"
    (click)="navigate('list')"
  >
    view more</a
  >
</div>




<ng-template #confirmViewPopup *ngIf="RegisterEvent">
  <mat-dialog-content class="custom-dialog-content" style="margin-top: 15px;">
    <h1>Thank you</h1>
  </mat-dialog-content>

  <mat-dialog-actions fxLayout="row" fxLayoutAlign="center center" >
    <button  mat-dialog-close tabindex="-1" class="button-okay">Close</button> 
  </mat-dialog-actions>
</ng-template>

 